<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Prime Tables</title>
</head>
<body>
    <div>
        <label for="number">Enter a whole number:</label>
        <input type="number" id="number">
        <input type="button" onclick="mainFunction()" value="Submit">
    </div>

    <script>
        function mainFunction() {
            const inputNumber = document.getElementById("number").value;
            testGetNPrimeNumbers();
        }


        /*
            A number is valid if it is a whole number greater or equal to 1.
         */
        function isNumberValid(n) {

            return (n % 1 === 0) && (n >= 1);
        }


        /*
            Check if a number is prime.
         */
        function isPrimeNumber(n) {

            /*
                Number 1, 2, and 3 are automatically defined as prime.
             */
            if (n <= 3) {
                return true;
            }

            /*
                Calculate the remainder of the number being checked, N, divided by
                every number smaller than it other than 1. If there is a remainder
                that is equal to 0 then N is not a prime.
             */
            for (let i = 2; i < n; i++) {

                if (n % i === 0) {
                    return false;
                }
            }

            return true;
        }


        /*
            Get an array of ordered prime numbers upto the prime number
            after the nth prime number.
         */
        function getNPrimeNumbers(n) {

            const primeNumbers = [];

            // n must be at least 1, so 1 is automatically added to the array.
            primeNumbers[0] = 1;

            // Because we already have 1 in the array the first number that will be checked is 2.
            let currentNumber = 2;

            /*
                Check if the current number is a prime until the array stores the right amount
                of prime numbers.
             */
            while (primeNumbers.length < Number(n)+1) {
                if (isPrimeNumber(currentNumber)) {
                    primeNumbers[primeNumbers.length] = currentNumber;
                }

                currentNumber++;
            }

            return primeNumbers;
        }


        //TESTS

        function assert(condition) {
            if(condition) {
                console.log("PASSED");
            } else {
                console.log("FAILED");
            }
        }

        function compareArrays(a1, a2) {

            if (a1.length !== a2.length) {
                return false;
            }

            for (let i = 0; i <= a1.length; i++) {
                if (a1[i] !== a2[i]) {
                    return false;
                }
            }

            return true;
        }

        function testIsPrimeNumber() {
            assert((isPrimeNumber(1) === true));
            assert((isPrimeNumber(2) === true));
            assert((isPrimeNumber(3) === true));
            assert((isPrimeNumber(5) === true));
            assert((isPrimeNumber(139) === true));
            assert((isPrimeNumber(211) === true));
            assert((isPrimeNumber(409) === true));

            assert((isPrimeNumber(4) === false));
            assert((isPrimeNumber(63) === false));
            assert((isPrimeNumber(27) === false));
            assert((isPrimeNumber(468) === false));
            assert((isPrimeNumber(957) === false));
            assert((isPrimeNumber(789) === false));
            assert((isPrimeNumber(573) === false));
        }


        function testGetNPrimeNumbers() {
            assert(compareArrays(getNPrimeNumbers(1), [1, 2]) === true);
            assert(compareArrays(getNPrimeNumbers(2), [1, 2, 3]) === true);
            assert(compareArrays(getNPrimeNumbers(3), [1, 2, 3, 5]) === true);
            assert(compareArrays(getNPrimeNumbers(6), [1, 2, 3, 5, 7, 11, 13]) === true);

            assert(compareArrays(getNPrimeNumbers(1), [1]) === false);
            assert(compareArrays(getNPrimeNumbers(2), [1, 3]) === false);
            assert(compareArrays(getNPrimeNumbers(2), [1]) === false);
            assert(compareArrays(getNPrimeNumbers(8), ["a", "d"]) === false);
            assert(compareArrays(getNPrimeNumbers(1), []) === false);
        }

    </script>

</body>
</html>